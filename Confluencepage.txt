INSERT INTO RECREATE_RESPONSE (
    RECREATE_YEAR,
    LINE_MANAGER_ID,
    LINE_MANAGER_NAME,
    REPORTEES_ID,
    REPORTEES_NAME,
    SYSTEM_NAME,
    ACCESS_LEVEL,
    ACCESS_STATUS,
    LOCATION_NAME,
    IS_ACTIVE,
    CREATED_USER_ID,
    UPDATED_USER_ID,
    CREATED_DT,
    UPDATED_DT,
    RMM_ID,
    ACTIONED_BY,
    RECERTIFICATION_DUE_DATE,
    REVIEW_STATUS,
    LINE_MANAGER_MAIL,
    REPORTEES_MAIL,
    ACCESS_REVOKED_DATE_BY_LINE_MANAGER
)
SELECT
    EXTRACT(YEAR FROM SYSDATE)                              AS RECREATE_YEAR,
    U.LINE_MANAGER_ID                                      AS LINE_MANAGER_ID,
    U.LINE_MANAGER_NAME                                    AS LINE_MANAGER_NAME,
    U.USER_ID                                              AS REPORTEES_ID,
    U.USER_NAME                                            AS REPORTEES_NAME,
    'RAP'                                                  AS SYSTEM_NAME,
    UR.ACCESS_LEVEL                                        AS ACCESS_LEVEL,
    'REVOKE'                                               AS ACCESS_STATUS,
    RG.RMM_NAME                                            AS LOCATION_NAME,
    1                                                      AS IS_ACTIVE,
    :CREATED_BY_PSID                                       AS CREATED_USER_ID,
    :CREATED_BY_PSID                                       AS UPDATED_USER_ID,
    SYSDATE                                                AS CREATED_DT,
    SYSDATE                                                AS UPDATED_DT,
    RG.RMM_ID                                              AS RMM_ID,
    'SYSTEM REVOKED'                                       AS ACTIONED_BY,
    SYSDATE                                                AS RECERTIFICATION_DUE_DATE,
    'COMPLETED'                                            AS REVIEW_STATUS,
    U.LINE_MANAGER_MAIL_ID                                 AS LINE_MANAGER_MAIL,
    U.USER_MAIL_ID                                         AS REPORTEES_MAIL,
    NULL                                                   AS ACCESS_REVOKED_DATE_BY_LINE_MANAGER
FROM USER_TAB U
JOIN USER_ROLE UR
    ON UR.USER_ID = U.USER_ID
JOIN RAP_RMM_GROUP RG
    ON RG.RMM_ID = UR.RMM_ID
WHERE U.USER_ID = :USER_ID
  AND U.LINE_MANAGER_ID = :LINE_MANAGER_ID;
